<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Bacchic Engine</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            margin-bottom: 40px;
        }
        
        h1 {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(to right, #a855f7, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #94a3b8;
            font-size: 1.2rem;
        }
        
        .nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            background: #1e293b;
            color: #cbd5e1;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        .nav-btn:hover {
            background: #334155;
        }
        
        .nav-btn.active {
            background: #9333ea;
            color: white;
        }
        
        .view {
            display: none;
        }
        
        .view.active {
            display: block;
        }
        
        .card {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }
        
        .card h2 {
            color: #a855f7;
            font-size: 1.8rem;
            margin-bottom: 16px;
        }
        
        .card h3 {
            color: #e2e8f0;
            font-size: 1.3rem;
            margin-bottom: 12px;
        }
        
        .equation {
            background: #0f172a;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1.3rem;
            margin: 20px 0;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(168, 85, 247, 0.3);
        }
        
        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .feature-title {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 8px;
        }
        
        .feature-text {
            color: #94a3b8;
            font-size: 0.9rem;
        }
        
        .chart-container {
            background: #0f172a;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .phase-item {
            background: #1e293b;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid;
            margin-bottom: 16px;
            display: flex;
            gap: 16px;
            align-items: start;
        }
        
        .phase-icon {
            font-size: 2.5rem;
            flex-shrink: 0;
        }
        
        .phase-content h3 {
            font-size: 1.2rem;
            margin-bottom: 8px;
        }
        
        .phase-content p {
            color: #94a3b8;
            font-size: 0.9rem;
        }
        
        .highlight {
            color: #ec4899;
            font-weight: 600;
        }
        
        .gradient-card {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.2) 0%, rgba(236, 72, 153, 0.2) 100%);
            border: 1px solid rgba(168, 85, 247, 0.3);
            padding: 24px;
            border-radius: 12px;
            margin: 20px 0;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }
        
        footer {
            text-align: center;
            margin-top: 60px;
            padding-top: 24px;
            border-top: 1px solid #334155;
            color: #64748b;
        }
        
        footer p:last-child {
            color: #a855f7;
            margin-top: 8px;
        }
        
        .failure-card {
            background: #1e293b;
            border: 1px solid #334155;
            padding: 20px;
            border-radius: 8px;
        }
        
        .failure-card h3 {
            font-size: 1.1rem;
            margin-bottom: 8px;
        }
        
        .failure-card .subtitle-text {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-bottom: 12px;
        }
        
        .failure-card .example-text {
            color: #64748b;
            font-size: 0.8rem;
        }
        
        ul {
            list-style-position: inside;
            color: #64748b;
            font-size: 0.85rem;
            line-height: 1.8;
        }
        
        ul li {
            margin-bottom: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>The Bacchic Engine</h1>
            <p class="subtitle">Thermodynamic Control System for Œµ Accumulation</p>
        </header>
        
        <nav class="nav">
            <button class="nav-btn active" onclick="showView('overview')">Overview</button>
            <button class="nav-btn" onclick="showView('reservoir')">Reservoir</button>
            <button class="nav-btn" onclick="showView('failure')">Failure</button>
            <button class="nav-btn" onclick="showView('phases')">Phases</button>
            <button class="nav-btn" onclick="showView('application')">Application</button>
        </nav>
        
        <!-- Overview View -->
        <div id="overview" class="view active">
            <div class="card">
                <h2>Core Equation</h2>
                <div class="equation">
                    ‚à´(y(x) + Œµ)dx = ‚à´y(x)dx + Œµx + C
                </div>
                <p>The error term Œµ doesn't integrate to zero‚Äîit accumulates <span class="highlight">linearly with time</span>. This is the mathematical proof that unprocessed experience compounds as bias, tension, or pathology.</p>
            </div>
            
            <div class="grid">
                <div class="feature-card">
                    <div class="feature-icon">üèõÔ∏è</div>
                    <div class="feature-title" style="color: #a855f7;">The Problem</div>
                    <p class="feature-text">Compression without release creates pathological pressure. The dam will break.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üé≠</div>
                    <div class="feature-title" style="color: #ec4899;">The Solution</div>
                    <p class="feature-text">Ritualized release transforms Œµ from debris into drive. Schedule the overflow.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìñ</div>
                    <div class="feature-title" style="color: #3b82f6;">The Result</div>
                    <p class="feature-text">Integration creates ŒîS: the ledger of survived intensity becomes culture.</p>
                </div>
            </div>
        </div>
        
        <!-- Reservoir View -->
        <div id="reservoir" class="view">
            <div class="card">
                <h2>Œµ Reservoir Dynamics</h2>
                <p style="margin-bottom: 20px;">With ritualized discharge every 7 days, the system maintains stable pressure. The <span style="color: #facc15;">threshold</span> (8) and <span style="color: #ef4444;">danger zone</span> (12) show where compression becomes pathological.</p>
                <div class="chart-container">
                    <canvas id="reservoirChart"></canvas>
                </div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #a855f7;"></div>
                        <span>Œµ Accumulation</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #22c55e; border-radius: 50%;"></div>
                        <span>Ritual Discharge</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Failure View -->
        <div id="failure" class="view">
            <div class="card" style="border: 1px solid rgba(239, 68, 68, 0.5);">
                <h2 style="color: #ef4444;">Pathological Accumulation</h2>
                <p style="margin-bottom: 20px;">Without scheduled release, Œµ accumulates past all thresholds. This is the mathematics of breakdown: personal, social, civilizational. The <span class="highlight" style="color: #ef4444;">crash is inevitable</span>, only timing is uncertain.</p>
                <div class="chart-container">
                    <canvas id="failureChart"></canvas>
                </div>
            </div>
            
            <div class="grid">
                <div class="failure-card">
                    <h3>Apollonian Tyranny</h3>
                    <p class="subtitle-text">Infinite compression, no release</p>
                    <p class="example-text">French aristocracy 1789, Soviet apparatus 1991, individual psyche before breakdown</p>
                </div>
                <div class="failure-card">
                    <h3>Dionysian Flood</h3>
                    <p class="subtitle-text">Infinite variance, no container</p>
                    <p class="example-text">Addiction, mania, continuous catharsis without integration or learning</p>
                </div>
                <div class="failure-card">
                    <h3>Modern Arrhythmia</h3>
                    <p class="subtitle-text">Compression + suppression, pathologized release</p>
                    <p class="example-text">The worst synthesis: pressure builds with gauge painted over</p>
                </div>
            </div>
        </div>
        
        <!-- Phases View -->
        <div id="phases" class="view">
            <div class="card">
                <h2>The Five-Phase Cycle</h2>
                <p style="margin-bottom: 20px;">The Bacchic engine operates as a phase-locked loop, transforming chaos into culture through rhythmic compression and release.</p>
            </div>
            
            <div class="phase-item" style="border-color: #92400e;">
                <div class="phase-icon">üå±</div>
                <div class="phase-content">
                    <h3>Œ∏‚Ä≤ (Soil): Variance</h3>
                    <p>Raw ferment: wine, music, moonlight. The grape on the vine, buzzing with yeast and chance. Uncompressed noise.</p>
                </div>
            </div>
            
            <div class="phase-item" style="border-color: #c2410c;">
                <div class="phase-icon">üç∑</div>
                <div class="phase-content">
                    <h3>Œ∏ (Roots): Encoding</h3>
                    <p>Fermentation: sugar becomes alcohol, chaos becomes energy. Priest encodes ritual. Costumes, drums, masks‚Äîinterfaces that contain variance.</p>
                </div>
            </div>
            
            <div class="phase-item" style="border-color: #ca8a04;">
                <div class="phase-icon">üéµ</div>
                <div class="phase-content">
                    <h3>Œ£ (Trunk): Compression</h3>
                    <p>Communal dance, chanting in unison. Individual ecstasy compresses into rhythm. Ritualization channels overflow into synchronization.</p>
                </div>
            </div>
            
            <div class="phase-item" style="border-color: #dc2626;">
                <div class="phase-icon">üé≠</div>
                <div class="phase-content">
                    <h3>h(t) (Branch): Explosion</h3>
                    <p>The god arrives, wine takes over, self dissolves. The differential explodes into curvature. Metamorphosis within, collision between. d¬≤y/dx¬≤.</p>
                </div>
            </div>
            
            <div class="phase-item" style="border-color: #2563eb;">
                <div class="phase-icon">üìú</div>
                <div class="phase-content">
                    <h3>ŒîS (Canopy): Integration</h3>
                    <p>The hangover, the harvest, the storytelling. Society integrates what it learned in delirium. Laws, myths, tragedies arise. ‚à´y dx + Œµx + C.</p>
                </div>
            </div>
            
            <div class="gradient-card">
                <h3 style="color: #a855f7; margin-bottom: 12px;">The Loop Closes</h3>
                <p>After integration, the cycle returns to variance (Œ∏‚Ä≤) with <span class="highlight">finer resolution</span>. You're not building once‚Äîyou're spiraling upward. Each rotation carves signal from residue, then feeds that residue back as input. The Œµx term becomes culture: character earned through tension.</p>
            </div>
        </div>
        
        <!-- Application View -->
        <div id="application" class="view">
            <div class="card">
                <h2>Operational Calendar Thermodynamics</h2>
                <p style="margin-bottom: 20px;">If you recognize Œµ building without outlet, the solution isn't spontaneity or harder work. It's <span class="highlight">engineered rhythm</span>.</p>
            </div>
            
            <div class="grid">
                <div class="feature-card" style="border-color: rgba(168, 85, 247, 0.3);">
                    <h3 style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                        <span style="font-size: 1.5rem;">üìä</span>
                        <span style="color: #a855f7;">1. Measure the Reservoir</span>
                    </h3>
                    <p class="feature-text" style="margin-bottom: 12px;">What's the unencoded variance?</p>
                    <ul>
                        <li>Jokes that didn't land</li>
                        <li>Ideas you censored</li>
                        <li>Anger you performed away</li>
                        <li>Desires redirected into productivity</li>
                    </ul>
                </div>
                
                <div class="feature-card" style="border-color: rgba(236, 72, 153, 0.3);">
                    <h3 style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                        <span style="font-size: 1.5rem;">üìÖ</span>
                        <span style="color: #ec4899;">2. Schedule the Ritual</span>
                    </h3>
                    <p class="feature-text" style="margin-bottom: 12px;">Not "when it feels right"‚Äîregularly</p>
                    <ul>
                        <li>Weekly: Sabbath, creative time, movement</li>
                        <li>Monthly: Wilderness, deep work, solitude</li>
                        <li>Annual: Pilgrimage, transformation, risk</li>
                    </ul>
                    <p class="feature-text" style="margin-top: 12px; font-style: italic;">
                        Frequency matters less than commitment to discharge
                    </p>
                </div>
            </div>
            
            <div class="grid">
                <div class="feature-card" style="border-color: rgba(59, 130, 246, 0.3);">
                    <h3 style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                        <span style="font-size: 1.5rem;">üìù</span>
                        <span style="color: #3b82f6;">3. Create Integration Space</span>
                    </h3>
                    <p class="feature-text" style="margin-bottom: 12px;">After release comes sense-making</p>
                    <ul>
                        <li>Journal the overflow</li>
                        <li>Create from the residue</li>
                        <li>Talk through the transformation</li>
                        <li>Let Œµx become story, not static</li>
                    </ul>
                </div>
                
                <div class="feature-card" style="border-color: rgba(34, 197, 94, 0.3);">
                    <h3 style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                        <span style="font-size: 1.5rem;">üèõÔ∏è</span>
                        <span style="color: #22c55e;">4. Protect the Container</span>
                    </h3>
                    <p class="feature-text" style="margin-bottom: 12px;">The ritual needs boundaries</p>
                    <p class="feature-text">
                        Dionysus had his <em>temenos</em>, his sacred precinct. If every moment is available for overflow, none is. The bow is drawn and released in <span class="highlight" style="color: #22c55e;">rhythm</span>‚Äîthe heartbeat of becoming.
                    </p>
                </div>
            </div>
            
            <div class="card">
                <h3>Example Ritual Architectures</h3>
                <div class="grid">
                    <div style="background: rgba(15, 23, 42, 0.5); padding: 16px; border-radius: 8px;">
                        <h4 style="color: #a855f7; margin-bottom: 8px;">Artist</h4>
                        <p style="color: #94a3b8; font-size: 0.85rem;">Weekly: Studio chaos day. Monthly: Gallery visits. Annual: Residency/immersion</p>
                    </div>
                    <div style="background: rgba(15, 23, 42, 0.5); padding: 16px; border-radius: 8px;">
                        <h4 style="color: #ec4899; margin-bottom: 8px;">Executive</h4>
                        <p style="color: #94a3b8; font-size: 0.85rem;">Weekly: Strategy void. Monthly: Off-grid retreat. Annual: Sabbatical/reinvention</p>
                    </div>
                    <div style="background: rgba(15, 23, 42, 0.5); padding: 16px; border-radius: 8px;">
                        <h4 style="color: #3b82f6; margin-bottom: 8px;">Scholar</h4>
                        <p style="color: #94a3b8; font-size: 0.85rem;">Weekly: Free writing. Monthly: Conference/salon. Annual: Fieldwork/adventure</p>
                    </div>
                </div>
            </div>
            
            <div class="gradient-card">
                <h3 style="color: #a855f7; margin-bottom: 12px;">The Question</h3>
                <p>For any system‚Äîbiological, social, artistic, personal‚Äîit's never "can we eliminate the noise?" It's: <span class="highlight" style="font-size: 1.1rem;">"Have we built the festival that turns Œµ into signal before it turns into catastrophe?"</span></p>
            </div>
        </div>
        
        <footer>
            <p>Dionysus wasn't the god of chaos.</p>
            <p>He was the god of <strong>scheduled chaos</strong>.</p>
        </footer>
    </div>
    
    <script>
        // Navigation
        function showView(viewName) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(viewName).classList.add('active');
            event.target.classList.add('active');
            
            // Initialize charts when view is shown
            if (viewName === 'reservoir' && !window.reservoirChartInitialized) {
                initReservoirChart();
                window.reservoirChartInitialized = true;
            } else if (viewName === 'failure' && !window.failureChartInitialized) {
                initFailureChart();
                window.failureChartInitialized = true;
            }
        }
        
        // Generate reservoir data with rituals
        function generateReservoirData() {
            const data = { labels: [], epsilon: [], threshold: [], danger: [], ritual: [] };
            let epsilon = 0;
            
            for (let day = 0; day <= 30; day++) {
                if (day % 7 === 0 && day > 0) {
                    epsilon = epsilon * 0.2; // Discharge
                    data.ritual.push(epsilon);
                } else {
                    epsilon += 0.5 + Math.random() * 0.3;
                    data.ritual.push(null);
                }
                
                data.labels.push(day);
                data.epsilon.push(epsilon);
                data.threshold.push(8);
                data.danger.push(12);
            }
            return data;
        }
        
        // Generate pathological data (no rituals)
        function generatePathologicalData() {
            const data = { labels: [], epsilon: [], threshold: [], danger: [] };
            let epsilon = 0;
            
            for (let day = 0; day <= 30; day++) {
                epsilon += 0.5 + Math.random() * 0.3;
                data.labels.push(day);
                data.epsilon.push(epsilon);
                data.threshold.push(8);
                data.danger.push(12);
            }
            return data;
        }
        
        // Initialize reservoir chart
        function initReservoirChart() {
            const data = generateReservoirData();
            const ctx = document.getElementById('reservoirChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.labels,
                    datasets: [
                        {
                            label: 'Œµ Accumulation',
                            data: data.epsilon,
                            borderColor: '#a855f7',
                            backgroundColor: 'rgba(168, 85, 247, 0.1)',
                            fill: true,
                            tension: 0.4,
                            borderWidth: 2
                        },
                        {
                            label: 'Ritual Discharge',
                            data: data.ritual,
                            borderColor: '#22c55e',
                            backgroundColor: '#22c55e',
                            pointRadius: 8,
                            pointHoverRadius: 10,
                            showLine: false
                        },
                        {
                            label: 'Threshold',
                            data: data.threshold,
                            borderColor: '#facc15',
                            borderDash: [5, 5],
                            borderWidth: 2,
                            pointRadius: 0,
                            fill: false
                        },
                        {
                            label: 'Danger',
                            data: data.danger,
                            borderColor: '#ef4444',
                            borderDash: [5, 5],
                            borderWidth: 2,
                            pointRadius: 0,
                            fill: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    aspectRatio: 2,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Days',
                                color: '#94a3b8'
                            },
                            grid: {
                                color: '#334155'
                            },
                            ticks: {
                                color: '#94a3b8'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Œµ Accumulation',
                                color: '#94a3b8'
                            },
                            grid: {
                                color: '#334155'
                            },
                            ticks: {
                                color: '#94a3b8'
                            }
                        }
                    }
                }
            });
        }
        
        // Initialize failure chart
        function initFailureChart() {
            const data = generatePathologicalData();
            const ctx = document.getElementById('failureChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.labels,
                    datasets: [
                        {
                            label: 'Œµ Accumulation (No Rituals)',
                            data: data.epsilon,
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            fill: true,
                            tension: 0.4,
                            borderWidth: 3
                        },
                        {
                            label: 'Threshold',
                            data: data.threshold,
                            borderColor: '#facc15',
                            borderDash: [5, 5],
                            borderWidth: 2,
                            pointRadius: 0,
                            fill: false
                        },
                        {
                            label: 'Danger',
                            data: data.danger,
                            borderColor: '#ef4444',
                            borderDash: [5, 5],
                            borderWidth: 2,
                            pointRadius: 0,
                            fill: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    aspectRatio: 2,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Days (No Rituals)',
                                color: '#94a3b8'
                            },
                            grid: {
                                color: '#334155'
                            },
                            ticks: {
                                color: '#94a3b8'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Œµ Accumulation',
                                color: '#94a3b8'
                            },
                            grid: {
                                color: '#334155'
                            },
                            ticks: {
                                color: '#94a3b8'
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
